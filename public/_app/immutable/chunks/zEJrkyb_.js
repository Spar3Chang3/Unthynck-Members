import{h as v,S as u,T as i,V as h,W as y,X as g,l as k,Y as A}from"./D6P7HmkW.js";import{b as N,l as S}from"./pxAOP3Ze.js";function L(r){if(v){var e=!1,a=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var f=r.value;d(r,"value",null),r.value=f}if(r.hasAttribute("checked")){var s=r.checked;d(r,"checked",null),r.checked=s}}};r.__on_r=a,u(a),N()}}function d(r,e,a,f){var s=r.__attributes??(r.__attributes={});v&&(s[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||s[e]!==(s[e]=a)&&(e==="style"&&"__styles"in r&&(r.__styles={}),e==="loading"&&(r[i]=a),a==null?r.removeAttribute(e):typeof a!="string"&&m(r).includes(e)?r[e]=a:r.setAttribute(e,a))}var t=new Map;function m(r){var e=t.get(r.nodeName);if(e)return e;t.set(r.nodeName,e=[]);for(var a,f=r,s=Element.prototype;s!==f;){a=y(f);for(var o in a)a[o].set&&e.push(o);f=h(f)}return e}function M(r,e,a=e){var f=g();S(r,"input",s=>{var o=s?r.defaultValue:r.value;if(o=_(r)?l(o):o,a(o),f&&o!==(o=e())){var n=r.selectionStart,c=r.selectionEnd;r.value=o??"",c!==null&&(r.selectionStart=n,r.selectionEnd=Math.min(c,r.value.length))}}),(v&&r.defaultValue!==r.value||k(e)==null&&r.value)&&a(_(r)?l(r.value):r.value),A(()=>{var s=e();_(r)&&s===l(r.value)||r.type==="date"&&!s&&!r.value||s!==r.value&&(r.value=s??"")})}function _(r){var e=r.type;return e==="number"||e==="range"}function l(r){return r===""?null:+r}export{M as b,L as r,d as s};
